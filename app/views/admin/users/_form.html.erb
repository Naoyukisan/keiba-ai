<%# エラー表示（モデルのエラー） %>
<% if form.object.errors.any? %>
  <div class="alert alert-danger">
    <div class="fw-bold mb-1">エラーが発生しました（<%= form.object.errors.count %>件）</div>
    <ul class="mb-0">
      <% form.object.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
    </ul>
  </div>
<% end %>

<div class="mb-3">
  <%= form.label :email, "メールアドレス", class: "form-label" %>
  <%= form.email_field :email,
        class: "form-control",
        placeholder: "例）user@example.com（変更する場合のみ入力）",
        autocomplete: "email" %>
  <div class="form-text">※ メールを変更しない場合は空欄のままでOKです。</div>
</div>

<div class="mb-3">
  <%= form.label :password, "パスワード", class: "form-label" %>
  <%= form.password_field :password,
        class: "form-control",
        placeholder: "変更する場合のみ入力",
        autocomplete: "new-password" %>
</div>

<div class="mb-3">
  <%= form.label :password_confirmation, "パスワード（確認）", class: "form-label" %>
  <%= form.password_field :password_confirmation,
        class: "form-control",
        placeholder: "パスワード変更時のみ入力",
        autocomplete: "new-password" %>
</div>

<div class="form-check mb-3">
  <%= form.check_box :admin, class: "form-check-input", id: "user_admin" %>
  <%= form.label :admin, "管理者", class: "form-check-label", for: "user_admin" %>
</div>

<div class="d-flex gap-2">
  <% if form.object.new_record? %>
    <%= form.submit "ユーザーを追加", class: "btn btn-primary" %>
  <% else %>
    <%= form.submit "更新する", class: "btn btn-primary" %>
  <% end %>
  <%= link_to "戻る", admin_users_path, class: "btn btn-outline-secondary" %>
</div>
